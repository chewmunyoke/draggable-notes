<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Draggable Notes</title>
		<meta name="description" content="Draggable Notes" />
		<meta name="author" content="Angeline" />
		<!--link rel="shortcut icon" href="../favicon.ico"-->
		<link href='https://fonts.googleapis.com/css?family=Playfair+Display:900,400|Lato:300,400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/index.css" />
		<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
		<script src="js/modernizr.custom.js"></script>
	</head>
	<body>
		<section id="app" class="main" v-cloak>
			<header-component :state="state"></header-component>
			<transition name="display">
				<div class="slideshow"
					:class="slideshowClass"
					v-show="state.isDisplayed">
					<div class="dragdealer dragger"
						:class="draggerClass"
						:style="draggerStyle">
						<div class="handle"
							:style="handleStyle">
							<div class="slide"
								:class="slideClass(index)"
								:style="slideStyle(index)"
								@click="slideClickHandler(index)"
								v-for="(note, index) in notes"
								:key="index">
								<div class="note">
									<div class="title-container"
										v-if="!(index == state.current && state.isEditing)">
										<span class="title">{{ note.title }}</span>
										<span class="subtitle">Last Updated: </span>
										<span class="timestamp" :title="note.datestamp">{{ note.lastUpdated }}</span>
									</div>
									<div class="title-editor"
										v-if="index == state.current && state.isEditing">
										<textarea v-html="note.title"></textarea>
									</div>
									<div class="content"
										v-if="!(index == state.current && state.isEditing)"
										v-html="note.content">
									</div>
									<div class="content-editor"
										v-if="index == state.current && state.isEditing">
										<div :id="'editor-' + index"
											v-html="note.content">
										</div>
									</div>
								</div>
								<div class="content-button-container"
									:style="containerStyle(index)">
									<div class="button-wrapper content-switch-wrapper">
										<button class="button content-switch"
											@click="contentSwitchHandler">
										</button>
									</div>
									<div class="button-wrapper content-edit-wrapper"
										v-if="index == state.current && state.appIsShowContent && !state.isEditing">
										<button class="button content-edit"
											@click="contentEditHandler(index)">
										</button>
									</div>
									<div class="button-wrapper content-save-wrapper"
										v-if="index == state.current && state.appIsShowContent && state.isEditing">
										<button class="button content-save"
											@click="contentSaveHandler(index)">
										</button>&nbsp;
										<button class="button content-cancel"
											@click="contentCancelHandler">
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</transition>
		</section>

		<template id="header-component">
			<header id="header" class="header" :class="headerClass">
				<h1>{{ appTitle }}</h1>
				<span class="message">{{ appMessage }}</span>
				<button class="dragger-switch"
					:class="draggerButtonClass"
					v-on:click="draggerClickHandler">
					Switch view
				</button>
			</header>
		</template>

		<script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
		<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
		<script src="js/moment.min.js"></script>
		<script src="js/vue.js"></script>
		<script src="js/dragdealer.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
